@model HomeViewModel;
@{
    Layout = "_Layout";
    ViewData["Title"] = "Home";
}

<div class="bg-gray-100">
    <div class="py-8 px-16 mx-auto container">
        <div class="flex flex-col text-center my-5">
            <p class="text-gray-900 text-2xl font-extrabold">
                Find your next stay
            </p>
            <p class="text-gray-700">
                Search deals on hotels, homes, and much more...
            </p>
            <div class="my-5">
                <div class="flex flex-row items-center justify-center my-3">
                    <div class="px-1 relative">
                        <div class="absolute inset-y-0 start-0 flex items-center ps-5 pointer-events-none">
                            <svg class="w-4 h-4 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
                            </svg>
                        </div>
                        <input type="search" id="hotel_search" class="block text-sm bg-gray-50 p-2.5 ps-10 text-gray-900 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" placeholder="Where to?"/>
                    </div>
                    <div id="date-range-picker" date-rangepicker class="flex items-center">
                        <div class="relative px-1">
                            <div class="absolute inset-y-0 start-0 flex items-center ps-5 pointer-events-none">
                                <svg class="w-4 h-4 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                                </svg>
                            </div>
                            <input id="datepicker-range-start" name="start" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full ps-10 p-2.5" placeholder="Select date start">
                        </div>
                        <div class="relative px-1">
                            <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                                <svg class="w-4 h-4 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                                </svg>
                            </div>
                            <input id="datepicker-range-end" name="end" type="text" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full ps-10 p-2.5 " placeholder="Select date end">
                        </div>
                    </div>
                    <div class="px-1 py-2">
                        <button type="button" class="text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-xs px-5 py-2.5 focus:outline-none">Search</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mx-auto px-16 py-8">
    <div class="my-3">
        <p class="text-xl font-bold pb-2 text-gray-600">Travel More, Spend Less</p>
    </div>
    <div class="my-1 border border-gray-200 rounded-lg p-5">
        <div class="flex justify-between">
            <div class="flex flex-col">
                <p class="text-gray-600 font-bold text-lg">Sign in, save money</p>
                <p class="text-gray-500 text-sm">Save 10% or more at participating properties – just look for the blue Genius label</p>
                @if (!User.Identity!.IsAuthenticated)
                {
                    <div class="flex gap-4 mt-5">
                        <button class="w-1/2 text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center" data-modal-target="authentication-modal" data-modal-toggle="authentication-modal" aria-current="page">Sign In</button>
                        <button class="w-1/2 text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center" data-modal-target="signup-modal" data-modal-toggle="signup-modal" aria-current="page">Sign Up</button>
                    </div>
                }
            </div>
            <svg class="w-24 h-24 text-green-700 px-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.7141 15h4.268c.4043 0 .732-.3838.732-.8571V3.85714c0-.47338-.3277-.85714-.732-.85714H6.71411c-.55228 0-1 .44772-1 1v4m10.99999 7v-3h3v3h-3Zm-3 6H6.71411c-.55228 0-1-.4477-1-1 0-1.6569 1.34315-3 3-3h2.99999c1.6569 0 3 1.3431 3 3 0 .5523-.4477 1-1 1Zm-1-9.5c0 1.3807-1.1193 2.5-2.5 2.5s-2.49999-1.1193-2.49999-2.5S8.8334 9 10.2141 9s2.5 1.1193 2.5 2.5Z"/>
            </svg>

        </div>
    </div>
</div>

<div class="container mx-auto px-16 py-8">
    <div class="my-3">
        <p class="text-xl font-bold pb-2 text-gray-600">Why Reservation?</p>
    </div>
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6">
        
        <div class="max-w-sm p-6 border border-gray-200 rounded-lg shadow-lg bg-gray-100">
            <svg class="w-12 h-12 text-green-700 mb-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10h16m-8-3V4M7 7V4m10 3V4M5 20h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Zm3-7h.01v.01H8V13Zm4 0h.01v.01H12V13Zm4 0h.01v.01H16V13Zm-8 4h.01v.01H8V17Zm4 0h.01v.01H12V17Zm4 0h.01v.01H16V17Z"/>
            </svg>
            <a href="#">
                <h5 class="mb-2 text-lg font-semibold tracking-tight text-gray-600">Book now, pay at the property</h5>
            </a>
            <p class="mb-3 font-normal text-sm text-gray-500">FREE cancellation on most rooms</p>
        </div>
        
        <div class="max-w-sm p-6 border border-gray-200 rounded-lg shadow-lg bg-gray-100">
            <svg class="w-12 h-12 text-green-700 mb-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m8.032 12 1.984 1.984 4.96-4.96m4.55 5.272.893-.893a1.984 1.984 0 0 0 0-2.806l-.893-.893a1.984 1.984 0 0 1-.581-1.403V7.04a1.984 1.984 0 0 0-1.984-1.984h-1.262a1.983 1.983 0 0 1-1.403-.581l-.893-.893a1.984 1.984 0 0 0-2.806 0l-.893.893a1.984 1.984 0 0 1-1.403.581H7.04A1.984 1.984 0 0 0 5.055 7.04v1.262c0 .527-.209 1.031-.581 1.403l-.893.893a1.984 1.984 0 0 0 0 2.806l.893.893c.372.372.581.876.581 1.403v1.262a1.984 1.984 0 0 0 1.984 1.984h1.262c.527 0 1.031.209 1.403.581l.893.893a1.984 1.984 0 0 0 2.806 0l.893-.893a1.985 1.985 0 0 1 1.403-.581h1.262a1.984 1.984 0 0 0 1.984-1.984V15.7c0-.527.209-1.031.581-1.403Z"/>
            </svg>
            <a href="#">
                <h5 class="mb-2 text-lg font-semibold tracking-tight text-gray-600">300M+ reviews from fellow travelers</h5>
            </a>
            <p class="mb-3 font-normal text-sm text-gray-500">Get trusted information from guests like you</p>
        </div>
        
        <div class="max-w-sm p-6 border border-gray-200 rounded-lg shadow-lg bg-gray-100">
            <svg class="w-12 h-12 text-green-700 mb-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7.171 12.906-2.153 6.411 2.672-.89 1.568 2.34 1.825-5.183m5.73-2.678 2.154 6.411-2.673-.89-1.568 2.34-1.825-5.183M9.165 4.3c.58.068 1.153-.17 1.515-.628a1.681 1.681 0 0 1 2.64 0 1.68 1.68 0 0 0 1.515.628 1.681 1.681 0 0 1 1.866 1.866c-.068.58.17 1.154.628 1.516a1.681 1.681 0 0 1 0 2.639 1.682 1.682 0 0 0-.628 1.515 1.681 1.681 0 0 1-1.866 1.866 1.681 1.681 0 0 0-1.516.628 1.681 1.681 0 0 1-2.639 0 1.681 1.681 0 0 0-1.515-.628 1.681 1.681 0 0 1-1.867-1.866 1.681 1.681 0 0 0-.627-1.515 1.681 1.681 0 0 1 0-2.64c.458-.361.696-.935.627-1.515A1.681 1.681 0 0 1 9.165 4.3ZM14 9a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/>
            </svg>
            <a href="#">
                <h5 class="mb-2 text-lg font-semibold tracking-tight text-gray-600">2+ million properties worldwide</h5>
            </a>
            <p class="mb-3 font-normal text-sm text-gray-500">Hotels, guest houses, apartments, and more…</p>
        </div>
        
        <div class="max-w-sm p-6 border border-gray-200 rounded-lg shadow-lg bg-gray-100">
            <svg class="w-12 h-12 text-green-700 mb-8" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.0225 4 14 8.98132m0 0 3.03.00002M14 8.98132V5.99998m4.2327 8.51492-1.1431-1.1439c-1.143-1.1439-1.9758-.3696-2.8382.4565-.3159.3161-.7443.4936-1.1911.4936-.4467 0-.8751-.1775-1.191-.4936L9.998 11.9549c-.65643-.6564-.92477-1.4591 0-2.38383.8488-.86837 1.6837-1.61177.4926-2.8037L9.2995 5.57544c-.90492-.90556-1.99137-.383-2.61843.23625-3.13257 3.1118-1.72021 6.77001 1.41066 9.90141s6.78747 4.5465 9.90477 1.4254c.1744-.1461.551-.565.6473-.7712.0962-.2062.1461-.4311.1461-.6587 0-.2277-.0499-.4525-.1461-.6588-.0963-.2062-.2366-.3888-.4111-.5349Z"/>
            </svg>
            <a href="#">
                <h5 class="mb-2 text-lg font-semibold tracking-tight text-gray-600">Trusted 24/7 customer service you can rely on</h5>
            </a>
            <p class="mb-3 font-normal text-sm text-gray-500">We're always here to help</p>
        </div>

    </div>
</div>

<div class="container mx-auto px-16 py-8">
    <div class="my-3">
        <p class="text-xl font-bold pb-2 text-gray-600">Most Preferred Hotels</p>
    </div>
    <div class="flex gap-2 text-gray-500">
        <span>←</span><span>→</span>
    </div>
    
    <div class="flex gap-4 overflow-x-auto pb-4 scroll-hotels">
        @if (Model.HotelCards != null)
        {
            @foreach (var card in Model.HotelCards)
            {
                <div class="min-w-[250px] bg-white border border-gray-200 rounded-lg shadow hover:shadow-lg transition-shadow duration-300">
                    <a href="/Home/Detail/@card.Id" class="block">
                        <div class="w-full h-48 overflow-hidden rounded-t-lg">
                            <img class="w-full h-full object-cover"
                                 src="@card.FirstPhotoPath"
                                 alt="@card.Name"/>
                        </div>
                    </a>
                    <div class="p-3">
                        <a href="/Home/Detail/@card.Id">
                            <h5 class="mb-1 text-lg font-bold tracking-tight text-gray-900 line-clamp-2">
                                @card.Name
                            </h5>
                        </a>
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center text-xs text-gray-400">
                                @card.AverageScore
                                <svg class="w-6 h-6 text-yellow-400 px-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M13.849 4.22c-.684-1.626-3.014-1.626-3.698 0L8.397 8.387l-4.552.361c-1.775.14-2.495 2.331-1.142 3.477l3.468 2.937-1.06 4.392c-.413 1.713 1.472 3.067 2.992 2.149L12 19.35l3.897 2.354c1.52.918 3.405-.436 2.992-2.15l-1.06-4.39 3.468-2.938c1.353-1.146.633-3.336-1.142-3.477l-4.552-.36-1.754-4.17Z"/>
                                </svg>
                            </div>
                            <span class="ml-1 text-xs font-medium text-gray-500">(@card.CommentCount)</span> 
                        </div>

                        <p class="mb-2 text-sm font-normal text-gray-700 line-clamp-2">
                            @card.Description
                        </p>

                        <div class="flex justify-between items-center mt-2 pt-2 border-t border-gray-100">
                            <span class="text-xl font-extrabold text-gray-900">
                                @card.MinPrice TL
                                <span class="text-xs font-normal text-gray-500">/night</span>
                            </span>
                            @if (User.Identity!.IsAuthenticated)
                            {
                                <a data-hotel-id="@card.Id" class="inline-flex items-center px-3 py-1.5 text-xs font-medium text-center text-white bg-green-700 rounded-lg hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300">
                                    <svg class="w-6 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12.01 6.001C6.5 1 1 8 5.782 13.001L12.011 20l6.23-7C23 8 17.5 1 12.01 6.002Z"/>
                                    </svg>
                                    <svg class="w-6 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="m12.75 20.66 6.184-7.098c2.677-2.884 2.559-6.506.754-8.705-.898-1.095-2.206-1.816-3.72-1.855-1.293-.034-2.652.43-3.963 1.442-1.315-1.012-2.678-1.476-3.973-1.442-1.515.04-2.825.76-3.724 1.855-1.806 2.201-1.915 5.823.772 8.706l6.183 7.097c.19.216.46.34.743.34a.985.985 0 0 0 .743-.34Z"/>
                                    </svg>
                                </a>
                            }
                        </div>
                    </div>
                </div>
            }
        }
    </div>
    
    
</div>

<script>
    const slider = document.querySelector('.scroll-hotels');

    let isDown = false;
    let startX;
    let scrollLeft;

    slider.addEventListener('mousedown', (e) => {
        isDown = true;
        slider.classList.add('cursor-grabbing');
        startX = e.pageX - slider.offsetLeft;
        scrollLeft = slider.scrollLeft;
    });
    slider.addEventListener('mouseleave', () => {
        isDown = false;
        slider.classList.remove('cursor-grabbing');
    });
    slider.addEventListener('mouseup', () => {
        isDown = false;
        slider.classList.remove('cursor-grabbing');
    });
    slider.addEventListener('mousemove', (e) => {
        if (!isDown) return;
        e.preventDefault();
        const x = e.pageX - slider.offsetLeft;
        const walk = (x - startX) * 1; // hız çarpanı
        slider.scrollLeft = scrollLeft - walk;
    });
</script>